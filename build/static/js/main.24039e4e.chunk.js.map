{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardRemoveButtonClassName","cardLikeButtonClass","cardImage","link","cardName","name","length","onClick","onRemoveClick","type","onCardClick","alt","src","onCardLike","Main","id","avatar","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","reverse","map","onCardDelete","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","onSubmit","children","buttonCaption","EditProfilePopup","useState","setName","setAbout","useEffect","e","preventDefault","onUserInfoUpdate","placeholder","maxLength","minLength","onChange","target","value","required","AddPlacePopup","setLink","onAddPlaceSubmit","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","cardId","fetch","method","then","_checkResponse","body","JSON","stringify","authorization","App","getInitialCards","setCards","catch","console","log","getInitialProfile","setCurrentUser","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfileOpen","setIsEditProfileOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","closeAllPopups","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","user","patchProfileInfo","userData","changeProfileImg","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.24039e4e.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport { CurrentUserContext };\r\n","import React from \"react\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardRemoveButtonClassName = `card__remove-button ${\r\n    isOwn ? \"\" : \"card__remove-button_hide\"\r\n  }`;\r\n  const cardLikeButtonClass = `card__like-button ${\r\n    isLiked ? \"card__like-button_on\" : \"\"\r\n  }`;\r\n\r\n  const cardImage = props.card.link;\r\n  const cardName = props.card.name;\r\n  const likes = props.card.likes.length;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleRemoveClick() {\r\n    props.onRemoveClick(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"cards__list-item\">\r\n      <div className=\"card\">\r\n        <button\r\n          onClick={handleRemoveClick}\r\n          className={cardRemoveButtonClassName}\r\n          type=\"button\"\r\n        ></button>\r\n        <img\r\n          className=\"card__image\"\r\n          onClick={handleClick}\r\n          alt={cardName}\r\n          src={cardImage}\r\n        />\r\n        <div className=\"card__description\">\r\n          <h2 className=\"card__title\">{cardName}</h2>\r\n          <div className=\"card__like-container\">\r\n            <button\r\n              type=\"button\"\r\n              className={cardLikeButtonClass}\r\n              onClick={handleLikeClick}\r\n            ></button>\r\n            <p className=\"card__like-counter\">{likes}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nimport Card from \"./Card\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__img-container\">\r\n            <img\r\n              id=\"profileImg\"\r\n              className=\"profile__img\"\r\n              alt=\"travaler profile\"\r\n              src={currentUser.avatar}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__img-edit-button\"\r\n              onClick={props.onEditAvatarClick}\r\n            ></button>\r\n          </div>\r\n          <div className=\"profile__details\">\r\n            <div className=\"profile__details-top\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__edit-button\"\r\n                onClick={props.onEditProfileClick}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__title\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlaceClick}\r\n        ></button>\r\n      </section>\r\n      <section className=\"cards\">\r\n        <ul className=\"cards__list\"></ul>\r\n      </section>\r\n      <section className=\"cards\">\r\n        <div className=\"cards__list\">\r\n          {props.cards.reverse().map((card) => (\r\n            <Card\r\n              key={card[\"_id\"]}\r\n              card={card}\r\n              onCardLike={props.onCardLike}\r\n              onCardClick={props.onCardClick}\r\n              onRemoveClick={props.onRemoveClick}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&#169; 2021 Around The U.S.</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${props.name}${\r\n        props.isOpen ? \" popup_opend\" : \"\"\r\n      }`}\r\n    >\r\n      <div className={`popup__container popup__container_type_${props.name}`}>\r\n        <button\r\n          type=\"button\"\r\n          onClick={props.onClose}\r\n          className={`popup__close-button popup__close-button_type_${props.name}`}\r\n        ></button>\r\n        <img\r\n          className=\"popup__image\"\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n        />\r\n        <h2 className={`popup__title popup__title_type_${props.name}`}>\r\n          {props.card.name}\r\n        </h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${props.name}${\r\n        props.isOpen ? \" popup_opend\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className={`popup__close-button popup__close-button_${props.name}`}\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form\r\n          className={`form form_type_${props.name}`}\r\n          name={props.name}\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          {props.children}\r\n          <span id=\"image-url-error\" className=\"form__error\"></span>\r\n          <button type=\"submit\" className=\"form__submit\">\r\n            {props.buttonCaption}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [about, setAbout] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleAboutChange(e) {\r\n    setAbout(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUserInfoUpdate({\r\n      name,\r\n      about: about,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setAbout(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      className=\"popup popup_type_edit-profile\"\r\n      name=\"edit-profile\"\r\n      title=\"Edit profile\"\r\n      buttonCaption=\"Save\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"form__input\"\r\n        placeholder=\"Name\"\r\n        type=\"text\"\r\n        id=\"profile-name\"\r\n        name=\"name\"\r\n        maxLength=\"40\"\r\n        minLength=\"2\"\r\n        onChange={handleNameChange}\r\n        value={name || \"\"}\r\n        required\r\n      />\r\n      <span id=\"profile-name-error\" className=\"form__error\"></span>\r\n      <input\r\n        className=\"form__input\"\r\n        placeholder=\"About me\"\r\n        type=\"text\"\r\n        id=\"profile-about-me\"\r\n        name=\"about\"\r\n        maxLength=\"200\"\r\n        minLength=\"2\"\r\n        onChange={handleAboutChange}\r\n        value={about || \"\"}\r\n        required\r\n      />\r\n      <span id=\"profile-about-me-error\" className=\"form__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlaceSubmit({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-place\"\r\n      title=\"New place\"\r\n      buttonCaption=\"Create\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"form__input\"\r\n        placeholder=\"Title\"\r\n        type=\"text\"\r\n        id=\"image-title\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        onChange={handleNameChange}\r\n        value={name || \"\"}\r\n      />\r\n      <span id=\"image-title-error\" className=\"form__error\"></span>\r\n      <input\r\n        className=\"form__input\"\r\n        placeholder=\"Image link\"\r\n        type=\"url\"\r\n        id=\"image-url\"\r\n        name=\"link\"\r\n        onChange={handleLinkChange}\r\n        value={link || \"\"}\r\n        required\r\n      />\r\n      <span id=\"image-url-error\" className=\"form__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({ avatar: avatarRef.current.value });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile-img\"\r\n      title=\"Change profile image\"\r\n      buttonCaption=\"Save\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"form__input form__input_type_profile-img\"\r\n        placeholder=\"Image link\"\r\n        type=\"url\"\r\n        id=\"avatar-image-url\"\r\n        name=\"avatar\"\r\n        ref={avatarRef}\r\n        required\r\n      />\r\n      <span\r\n        id=\"avatar-image-url-error\"\r\n        className=\"form__error form__error_type_profile-img\"\r\n      ></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this.baseUrl = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(\"Error\");\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\r\n      headers: this.headers,\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  getInitialProfile() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers,\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers,\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  changeProfileImg(avatar) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ avatar: avatar }),\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  postCard({ name, link }) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ name, link }),\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  patchProfileInfo({ name, about }) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ name: name, about: about }),\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this.headers,\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-11\",\r\n  headers: {\r\n    authorization: \"34a96d6c-47dd-42d3-b220-f7d1e2e3c502\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import \"../index.css\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport React from \"react\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nimport api from \"../utils/api\";\r\n\r\nfunction App() {\r\n  React.useEffect(() => {\r\n    api.getInitialCards().then(setCards).catch(console.log);\r\n    api.getInitialProfile().then(setCurrentUser).catch(console.log);\r\n  }, []);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditProfileOpen, setIsEditProfileOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfileOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfileOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    api\r\n      .patchProfileInfo(user)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api\r\n      .changeProfileImg(avatar)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    return api\r\n      .postCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log);\r\n  }\r\n  function handleRemoveClick(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <div className=\"root\">\r\n          <Header />\r\n          <Main\r\n            onEditAvatarClick={handleEditAvatarClick}\r\n            onEditProfileClick={handleEditProfileClick}\r\n            onAddPlaceClick={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onRemoveClick={handleRemoveClick}\r\n            cards={cards}\r\n          />\r\n\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfileOpen}\r\n            onClose={closeAllPopups}\r\n            onUserInfoUpdate={handleUpdateUser}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlaceSubmit={handleAddPlaceSubmit}\r\n          />\r\n\r\n          <ImagePopup\r\n            name=\"display-image\"\r\n            card={selectedCard}\r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n          ></ImagePopup>\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}