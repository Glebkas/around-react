{"ast":null,"code":"import _classCallCheck from\"C:/Users/\\u05E1\\u05D8\\u05D5\\u05D3\\u05D9\\u05D5\\u05DC'\\u05D4 \\u05E6\\u05D9\\u05DC\\u05D5\\u05DD/Documents/GitHub/around-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/\\u05E1\\u05D8\\u05D5\\u05D3\\u05D9\\u05D5\\u05DC'\\u05D4 \\u05E6\\u05D9\\u05DC\\u05D5\\u05DD/Documents/GitHub/around-react/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this.baseUrl=options.baseUrl;this.headers=options.headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"Error\");}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){var _this=this;return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(cardId),{method:\"\".concat(isLiked?\"PUT\":\"DELETE\"),headers:this.headers}).then(function(res){return _this._checkResponse(res);});}},{key:\"getInitialProfile\",value:function getInitialProfile(){var _this2=this;return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{headers:this.headers}).then(function(res){return _this2._checkResponse(res);});}},{key:\"getInitialCards\",value:function getInitialCards(){var _this3=this;return fetch(\"\".concat(this.baseUrl,\"/cards\"),{headers:this.headers}).then(function(res){return _this3._checkResponse(res);});}},{key:\"changeProfileImg\",value:function changeProfileImg(avatar){var _this4=this;return fetch(\"\".concat(this.baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({avatar:avatar})}).then(function(res){return _this4._checkResponse(res);});}},{key:\"postCard\",value:function postCard(_ref){var _this5=this;var name=_ref.name,link=_ref.link;return fetch(\"\".concat(this.baseUrl,\"/cards\"),{method:\"POST\",headers:this.headers,body:JSON.stringify({name:name,link:link})}).then(function(res){return _this5._checkResponse(res);});}},{key:\"patchProfileInfo\",value:function patchProfileInfo(_ref2){var _this6=this;var name=_ref2.name,about=_ref2.about;return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({name:name,about:about})}).then(function(res){return _this6._checkResponse(res);});}},{key:\"deleteCard\",value:function deleteCard(cardId){var _this7=this;return fetch(\"\".concat(this.baseUrl,\"/cards/\").concat(cardId),{method:\"DELETE\",headers:this.headers}).then(function(res){return _this7._checkResponse(res);});}}]);return Api;}();var api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-11\",headers:{authorization:\"34a96d6c-47dd-42d3-b220-f7d1e2e3c502\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["C:/Users/סטודיול'ה צילום/Documents/GitHub/around-react/src/utils/api.js"],"names":["Api","options","baseUrl","headers","res","ok","json","Promise","reject","cardId","isLiked","fetch","method","then","_checkResponse","avatar","body","JSON","stringify","name","link","about","api","authorization"],"mappings":"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","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this.baseUrl = options.baseUrl;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(\"Error\");\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\r\n      headers: this.headers,\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  getInitialProfile() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers,\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers,\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  changeProfileImg(avatar) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ avatar: avatar }),\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  postCard({ name, link }) {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ name, link }),\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  patchProfileInfo({ name, about }) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({ name: name, about: about }),\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this.headers,\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-11\",\r\n  headers: {\r\n    authorization: \"34a96d6c-47dd-42d3-b220-f7d1e2e3c502\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}