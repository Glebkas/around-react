{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u05E1\\u05D8\\u05D5\\u05D3\\u05D9\\u05D5\\u05DC'\\u05D4 \\u05E6\\u05D9\\u05DC\\u05D5\\u05DD/Documents/GitHub/around-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),about=_React$useState4[0],setAbout=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);function handleNameChange(e){setName(e.target.value);}function handleAboutChange(e){setAbout(e.target.value);}function handleSubmit(e){e.preventDefault();props.onUserInfoUpdate({name:name,about:about});}React.useEffect(function(){setName(currentUser.name);setAbout(currentUser.about);},[currentUser,props.isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{className:\"popup popup_type_edit-profile\",name:\"edit-profile\",title:\"Edit profile\",buttonCaption:\"Save\",isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",placeholder:\"Name\",type:\"text\",id:\"profile-name\",name:\"name\",maxLength:\"40\",minLength:\"2\",onChange:handleNameChange,value:name||\"\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"profile-name-error\",className:\"form__error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form__input\",placeholder:\"About me\",type:\"text\",id:\"profile-about-me\",name:\"about\",maxLength:\"200\",minLength:\"2\",onChange:handleAboutChange,value:about||\"\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"profile-about-me-error\",className:\"form__error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["C:/Users/סטודיול'ה צילום/Documents/GitHub/around-react/src/components/EditProfilePopup.js"],"names":["React","CurrentUserContext","PopupWithForm","EditProfilePopup","props","useState","name","setName","about","setAbout","currentUser","useContext","handleNameChange","e","target","value","handleAboutChange","handleSubmit","preventDefault","onUserInfoUpdate","useEffect","isOpen","onClose"],"mappings":"0MAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC/B,oBAAwBJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAA0BP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1B,qDAAOG,KAAP,qBAAcC,QAAd,qBACA,GAAMC,CAAAA,WAAW,CAAGV,KAAK,CAACW,UAAN,CAAiBV,kBAAjB,CAApB,CAEA,QAASW,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,iBAAT,CAA2BH,CAA3B,CAA8B,CAC5BJ,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAED,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GAEAd,KAAK,CAACe,gBAAN,CAAuB,CACrBb,IAAI,CAAJA,IADqB,CAErBE,KAAK,CAAEA,KAFc,CAAvB,EAID,CAEDR,KAAK,CAACoB,SAAN,CAAgB,UAAM,CACpBb,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,QAAQ,CAACC,WAAW,CAACF,KAAb,CAAR,CACD,CAHD,CAGG,CAACE,WAAD,CAAcN,KAAK,CAACiB,MAApB,CAHH,EAKA,mBACE,MAAC,aAAD,EACE,SAAS,CAAC,+BADZ,CAEE,IAAI,CAAC,cAFP,CAGE,KAAK,CAAC,cAHR,CAIE,aAAa,CAAC,MAJhB,CAKE,MAAM,CAAEjB,KAAK,CAACiB,MALhB,CAME,OAAO,CAAEjB,KAAK,CAACkB,OANjB,CAOE,QAAQ,CAAEL,YAPZ,wBASE,cACE,SAAS,CAAC,aADZ,CAEE,WAAW,CAAC,MAFd,CAGE,IAAI,CAAC,MAHP,CAIE,EAAE,CAAC,cAJL,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,IANZ,CAOE,SAAS,CAAC,GAPZ,CAQE,QAAQ,CAAEL,gBARZ,CASE,KAAK,CAAEN,IAAI,EAAI,EATjB,CAUE,QAAQ,KAVV,EATF,cAqBE,aAAM,EAAE,CAAC,oBAAT,CAA8B,SAAS,CAAC,aAAxC,EArBF,cAsBE,cACE,SAAS,CAAC,aADZ,CAEE,WAAW,CAAC,UAFd,CAGE,IAAI,CAAC,MAHP,CAIE,EAAE,CAAC,kBAJL,CAKE,IAAI,CAAC,OALP,CAME,SAAS,CAAC,KANZ,CAOE,SAAS,CAAC,GAPZ,CAQE,QAAQ,CAAEU,iBARZ,CASE,KAAK,CAAER,KAAK,EAAI,EATlB,CAUE,QAAQ,KAVV,EAtBF,cAkCE,aAAM,EAAE,CAAC,wBAAT,CAAkC,SAAS,CAAC,aAA5C,EAlCF,GADF,CAsCD,CAED,cAAeL,CAAAA,gBAAf","sourcesContent":["import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [about, setAbout] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleAboutChange(e) {\r\n    setAbout(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUserInfoUpdate({\r\n      name,\r\n      about: about,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setAbout(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      className=\"popup popup_type_edit-profile\"\r\n      name=\"edit-profile\"\r\n      title=\"Edit profile\"\r\n      buttonCaption=\"Save\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"form__input\"\r\n        placeholder=\"Name\"\r\n        type=\"text\"\r\n        id=\"profile-name\"\r\n        name=\"name\"\r\n        maxLength=\"40\"\r\n        minLength=\"2\"\r\n        onChange={handleNameChange}\r\n        value={name || \"\"}\r\n        required\r\n      />\r\n      <span id=\"profile-name-error\" className=\"form__error\"></span>\r\n      <input\r\n        className=\"form__input\"\r\n        placeholder=\"About me\"\r\n        type=\"text\"\r\n        id=\"profile-about-me\"\r\n        name=\"about\"\r\n        maxLength=\"200\"\r\n        minLength=\"2\"\r\n        onChange={handleAboutChange}\r\n        value={about || \"\"}\r\n        required\r\n      />\r\n      <span id=\"profile-about-me-error\" className=\"form__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"]},"metadata":{},"sourceType":"module"}